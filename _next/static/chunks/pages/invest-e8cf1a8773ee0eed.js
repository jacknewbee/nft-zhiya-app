(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3468],{82136:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/invest",function(){return n(6297)}])},25571:function(t,e,n){"use strict";n.d(e,{d:function(){return p}});var r=n(98788),i=n(70865),s=n(96670),a=n(50930),o=n(45680),u=n(43997),c=n(2784),l=n(38497),d=n(72579),f=n.n(d),h=n(12483),g=n(50071);function p(){var t,e=(0,l.Fh)(),n=(0,u.v9)(function(t){return t.user.gasPrice});return{callWithGasPrice:(0,c.useCallback)((t=(0,r.Z)(function(t,r){var u,c,l,d,p,x,v=arguments;return(0,o.__generator)(this,function(o){switch(o.label){case 0:return u=v.length>2&&void 0!==v[2]?v[2]:[],c=v.length>3&&void 0!==v[3]?v[3]:null,(0,h.n_)({type:"Transaction",message:n===g.j4.rpcDefault?"Call with market gas price":"Call with gas price: ".concat(e),data:{contractAddress:t.address,methodName:r,methodArgs:u,overrides:c}}),l=f()(t,r),d=null==c?void 0:c.gasPrice,[4,l.apply(void 0,(0,a.Z)(u).concat([d?(0,i.Z)({},c):(0,s.Z)((0,i.Z)({},c),{gasPrice:e})]))];case 1:return(p=o.sent())&&(0,h.n_)({type:"Transaction",message:"Transaction sent: ".concat(p.hash),data:{hash:p.hash,from:p.from,gasLimit:null===(x=p.gasLimit)||void 0===x?void 0:x.toString(),nonce:p.nonce}}),[2,p]}})}),function(e,n){return t.apply(this,arguments)}),[e,n])}}},6297:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return G}});var r=n(98788),i=n(87394),s=n(92228),a=n(45680),o=n(52322),u=n(73921),c=n(8160),l=n(56521),d=n(78040),f=n(2784),h=n(81254),g=n(6391),p=n.n(g),x=n(90711),v=n(25130),m=n(39241),w=n(86054);n(25571);var y=n(90395),b=n(15602),S=n(517),j=function(t,e,n){var s=(0,S.mA)().address,o=(0,i.Z)((0,f.useState)(m.HW),2),u=o[0],c=o[1];return(0,f.useEffect)(function(){var n,i=(n=(0,r.Z)(function(){var n;return(0,a.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,t.allowance(s,e)];case 1:return n=r.sent(),c(new(p())(n.toString())),[3,3];case 2:return console.error(r.sent()),[3,3];case 3:return[2]}})}),function(){return n.apply(this,arguments)});s&&i()},[s,e,t,n]),u},Z=function(t,e,n){var i=(0,u.$G)().t,s=(0,S.mA)().address,c=(0,v.p)(),l=c.toastSuccess;c.toastError;var d=(0,y.Z)(),h=d.fetchWithCatchTxError;return{isPending:d.loading,handleApprove:(0,f.useCallback)((0,r.Z)(function(){var r;return(0,a.__generator)(this,function(s){switch(s.label){case 0:return[4,h(function(){return e.approve(t,x.Bz)})];case 1:return(null==(r=s.sent())?void 0:r.status)?(n(b.W.ENABLED),l(i("Success!"),(0,o.jsx)(w.Y,{txHash:r.transactionHash,children:i("Approve Success")}))):n(b.W.DISABLED),[2]}})}),[s,e,i,h,l])}},F=function(t){var e=(0,u.$G)().t,n=(0,S.mA)().address,i=(0,v.p)(),s=i.toastSuccess;i.toastError;var c=(0,y.Z)(),l=c.fetchWithCatchTxError;return{isPending:c.loading,handleClaim:(0,f.useCallback)((0,r.Z)(function(){var n;return(0,a.__generator)(this,function(r){switch(r.label){case 0:return[4,l(function(){return t.claimLp()})];case 1:return(null==(n=r.sent())?void 0:n.status)&&s(e("Success!"),(0,o.jsx)(w.Y,{txHash:n.transactionHash,children:e("Claim Success")})),[2]}})}),[n,t,e,l,s])}},C=function(t){var e,n=(0,u.$G)().t,i=(0,S.mA)().address,s=(0,v.p)(),c=s.toastSuccess;s.toastError;var l=(0,y.Z)(),d=l.fetchWithCatchTxError;return{isPending:l.loading,handleDeposit:(0,f.useCallback)((e=(0,r.Z)(function(e,r){var i;return(0,a.__generator)(this,function(s){switch(s.label){case 0:return[4,d(function(){return t.depositLp(e,r)})];case 1:return(null==(i=s.sent())?void 0:i.status)&&c(n("Success!"),(0,o.jsx)(w.Y,{txHash:i.transactionHash,children:n("Deposit Success")})),[2]}})}),function(t,n){return e.apply(this,arguments)}),[i,t,n,d,c])}},_=function(t){var e=(0,u.$G)().t,n=(0,S.mA)().address,i=(0,v.p)(),s=i.toastSuccess;i.toastError;var c=(0,y.Z)(),l=c.fetchWithCatchTxError;return{isPending:c.loading,handleWithdraw:(0,f.useCallback)((0,r.Z)(function(){var n;return(0,a.__generator)(this,function(r){switch(r.label){case 0:return[4,l(function(){return t.withdrawLp()})];case 1:return(null==(n=r.sent())?void 0:n.status)&&s(e("Success!"),(0,o.jsx)(w.Y,{txHash:n.transactionHash,children:e("Withdraw Success")})),[2]}})}),[n,t,e,l,s])}},D=n(90327),E=n(38497),I=n(46267),A=n(57535),T=n(26504),k=n(48858),W=n(3411);n(99893);var N=n(5632);function L(){var t=(0,s.Z)(["\n  background: ",";\n  border-radius: 4px;\n  padding:10px;\n  border: 1px solid ",";\n"]);return L=function(){return t},t}function z(){var t=(0,s.Z)(["\n  display: flex;\n  flex-flow: row nowrap;\n  align-items: center;\n  color: ",";\n  font-size: 0.75rem;\n  line-height: 1rem;\n  padding: 0.75rem 1rem 0 1rem;\n"]);return z=function(){return t},t}function P(){var t=(0,s.Z)(["\n  border-collapse: collapse;\n  font-size: 14px;\n  margin-left: auto;\n  margin-right: auto;\n  width: 100%;\n"]);return P=function(){return t},t}function M(){var t=(0,s.Z)(["\n  & tr {\n    td {\n      font-size: 16px;\n      vertical-align: middle;\n    }\n\n    :last-child {\n      td[colspan='7'] {\n        > div {\n          border-bottom-left-radius: 16px;\n          border-bottom-right-radius: 16px;\n        }\n      }\n    }\n  }\n"]);return M=function(){return t},t}function B(){var t=(0,s.Z)(["\n  position: relative;\n"]);return B=function(){return t},t}W.ZP.div.withConfig({componentId:"sc-5cf776b2-0"})(L(),function(t){return t.theme.card.background},function(t){return t.theme.colors.cardBorder}),W.ZP.div.withConfig({componentId:"sc-5cf776b2-1"})(z(),function(t){return t.theme.colors.text}),W.ZP.table.withConfig({componentId:"sc-5cf776b2-2"})(P()),W.ZP.tbody.withConfig({componentId:"sc-5cf776b2-3"})(M()),W.ZP.div.withConfig({componentId:"sc-5cf776b2-4"})(B());var G=function(){var t,e,n,s,g,x=(0,u.$G)().t,m=(0,N.useRouter)(),w=(0,D.Z)(),S=w.chainId,W=w.account,L=(0,i.Z)((0,f.useState)(!1),2);L[0],L[1];var z=(0,i.Z)((0,f.useState)(""),2);z[0],z[1];var P=(0,v.p)(),M=(P.toastSuccess,P.toastError),B=(0,l.Qw)((0,h.w0)(S)),G=(0,i.Z)((0,f.useState)("0xFFC2e7d5a475308c503dd2a8861eC30458036b29"),2),H=G[0],R=G[1];(0,E.Fh)(),(0,I.h7)();var Y=(0,y.Z)();Y.fetchWithCatchTxError,Y.loading;var $=(0,i.Z)((0,f.useState)(b.W.DISABLED),2),U=$[0],O=$[1],Q=(0,i.Z)((0,f.useState)(0),2);Q[0],Q[1];var q=(0,i.Z)((0,f.useState)(0),2),J=q[0];q[1],(0,k.Z)(J).secondsRemaining;var X=(0,i.Z)((0,f.useState)(),2);X[0],X[1];var V=(0,i.Z)((0,f.useState)("--"),2);V[0],V[1];var K=(0,i.Z)((0,f.useState)("--"),2);K[0],K[1];var tt=(0,i.Z)((0,f.useState)("--"),2);tt[0],tt[1];var te=(0,i.Z)((0,f.useState)("--"),2);te[0],te[1];var tn=(0,l.Ib)(null===(e=c.AA[S])||void 0===e?void 0:e.address),tr=(0,l.Ib)(null===(n=c.WJ[S])||void 0===n?void 0:n.address),ti=(0,d.ZP)(null===(s=c.AA[S])||void 0===s?void 0:s.address).balance,ts=(0,d.ZP)(null===(g=c.WJ[S])||void 0===g?void 0:g.address).balance,ta=j(tn,(0,h.w0)(S),U);W&&ta&&ta.isGreaterThan(0);var to=j(tr,(0,h.w0)(S),U);W&&to&&to.isGreaterThan(0);var tu=Z((0,h.w0)(S),tn,O).handleApprove,tc=Z((0,h.w0)(S),tr,O).handleApprove,tl=F(B).handleClaim,td=_(B).handleWithdraw,tf=C(B).handleDeposit,th=(0,i.Z)((0,f.useState)(),2),tg=th[0],tp=th[1],tx=(0,i.Z)((0,f.useState)(),2),tv=tx[0],tm=tx[1];(0,r.Z)(function(){return(0,a.__generator)(this,function(t){switch(t.label){case 0:if(!W||!tv)return[2];if(!new(p())(tv).gte(1e3))return M("Error",x("At least 1000 LP")),[2];if(!new(p())(ti.toString()).dividedBy(1e18).gte(new(p())(tv)))return M("Error",x("not enough USDT")),[2];if(!new(p())(ts.toString()).dividedBy(1e18).gte(new(p())(tv)))return M("Error",x("not enough FED")),[2];return[4,tf((0,T.gk)(tv),H)];case 1:return t.sent(),tm(""),tw(),[2]}})}),(0,r.Z)(function(){return(0,a.__generator)(this,function(t){switch(t.label){case 0:if(!W)return[2];if((0,T.tQ)(tg.pending))return M("Error",x("not pending yet")),[2];return[4,tl()];case 1:return t.sent(),tw(),[2]}})}),(0,r.Z)(function(){return(0,a.__generator)(this,function(t){switch(t.label){case 0:if(!W)return[2];return[4,td()];case 1:return t.sent(),tw(),[2]}})}),(0,r.Z)(function(){return(0,a.__generator)(this,function(t){switch(t.label){case 0:if(U==b.W.IS_ENABLING)return[2];return O(b.W.IS_ENABLING),[4,tu()];case 1:return t.sent(),[2]}})}),(0,r.Z)(function(){return(0,a.__generator)(this,function(t){switch(t.label){case 0:if(U==b.W.IS_ENABLING)return[2];return O(b.W.IS_ENABLING),[4,tc()];case 1:return t.sent(),[2]}})});var tw=(t=(0,r.Z)(function(){var t;return(0,a.__generator)(this,function(e){switch(e.label){case 0:if(!W||!B.signer)return[2];return[4,B.lpLedger(W)];case 1:if((t=e.sent()).uAmount.lte(0))return tp(null),[2];return tp({claimDate:(0,T.Ul)(t.claimDate.toNumber()),stakedDate:(0,T.Ul)(t.stakedDate.toNumber()),uAmount:(0,T.dN)(t.uAmount),pending:(0,T.S8)(t.claimDate.toNumber())*new(p())(t.uAmount.toString()).div(1e18).div(100).toNumber()}),[2]}})}),function(){return t.apply(this,arguments)});return(0,f.useEffect)(function(){A.mE&&R(A.mE)},[W]),(0,f.useEffect)(function(){tw()},[B,W]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{style:{textAlign:"center"},children:(0,o.jsx)("img",{style:{width:"390px",height:"312px"},src:"./images/nft-zhiya/invest-banner.png"})}),(0,o.jsx)("div",{style:{padding:"10px",marginLeft:"20px",width:"80px",display:"flex",justifyContent:"center",alignItems:"center",fontSize:"13px",fontWeight:700,height:"30px",color:"#000",borderRadius:"10px",background:" linear-gradient(163deg, #4FF4F2 31%, #F176E5 77%, #A754F8 117%)"},children:"我要投資"}),(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",flexWrap:"wrap",margin:"10px 20px"},children:[(0,o.jsx)("div",{onClick:function(){m.push("./stokeninvest")},style:{width:"166px",marginTop:"10px",height:"67px",display:"flex",justifyContent:"center",alignItems:"center",background:"#0F0F0F",borderRadius:"10px"},children:(0,o.jsxs)("div",{style:{display:"flex",alignItems:"center",width:"100%",justifyContent:"space-between",padding:"0 20px"},children:[(0,o.jsx)("img",{style:{width:"53px",height:"51px"},src:"./images/nft-zhiya/fedmining.png"}),(0,o.jsx)("div",{style:{fontSize:"14px",fontWeight:700},children:"FED礦場"})]})}),(0,o.jsx)("div",{style:{width:"166px",marginTop:"10px",height:"67px",display:"flex",justifyContent:"center",alignItems:"center",background:"#0F0F0F",borderRadius:"10px"},children:(0,o.jsxs)("div",{style:{display:"flex",alignItems:"center",width:"100%",justifyContent:"space-between",padding:"0 20px"},children:[(0,o.jsx)("img",{style:{width:"53px",height:"51px"},src:"./images/nft-zhiya/lpmining.png"}),(0,o.jsx)("div",{style:{fontSize:"14px",color:"#343131",fontWeight:700},children:"LP礦場"})]})}),(0,o.jsx)("div",{onClick:function(){m.push("./nftpool")},style:{width:"166px",marginTop:"10px",height:"67px",display:"flex",justifyContent:"center",alignItems:"center",background:"#0F0F0F",borderRadius:"10px"},children:(0,o.jsxs)("div",{style:{display:"flex",alignItems:"center",width:"100%",justifyContent:"space-between",padding:"0 20px"},children:[(0,o.jsx)("img",{style:{width:"53px",height:"51px"},src:"./images/nft-zhiya/nftmining.png"}),(0,o.jsx)("div",{style:{fontSize:"14px",fontWeight:700},children:"NFT質押"})]})}),(0,o.jsx)("div",{style:{width:"166px",marginTop:"10px",height:"67px",display:"flex",justifyContent:"center",alignItems:"center",background:"#0F0F0F",borderRadius:"10px"},children:(0,o.jsxs)("div",{style:{display:"flex",alignItems:"center",width:"100%",justifyContent:"space-between",padding:"0 20px"},children:[(0,o.jsx)("img",{style:{width:"53px",height:"51px"},src:"./images/nft-zhiya/btcmining.png"}),(0,o.jsx)("div",{style:{fontSize:"14px",color:"#343131",fontWeight:700},children:"BTC礦場"})]})})]}),(0,o.jsx)("div",{style:{padding:"10px",marginLeft:"20px",width:"80px",display:"flex",justifyContent:"center",alignItems:"center",fontSize:"13px",fontWeight:700,height:"30px",color:"#000",borderRadius:"10px",background:" linear-gradient(163deg, #4FF4F2 31%, #F176E5 77%, #A754F8 117%)"},children:"投資記錄"}),(0,o.jsxs)("div",{style:{margin:"20px",background:" #0F0F0F",padding:"10px",borderRadius:"12px"},children:[(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,o.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,o.jsx)("img",{style:{width:"28px",height:"28px"},src:"./images/nft-zhiya/usdt.png"}),(0,o.jsx)("div",{style:{fontSize:"14px",marginLeft:"6px",fontWeight:700},children:" USDT"})]}),(0,o.jsx)("div",{style:{fontSize:"14px",fontWeight:700},children:"30天， 日化0.8%"})]}),(0,o.jsx)("div",{style:{fontSize:"14px",color:"#FDFDFD",margin:"20px 0"},children:"投資金額：  1000"}),(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,o.jsx)("div",{style:{fontSize:"14px",color:"#FDFDFD"},children:"購買時間：  2023/04/25   18:30:00"}),(0,o.jsx)("div",{style:{width:"80px",borderRadius:"100px",background:"#000",height:"26px",display:"flex",justifyContent:"center",alignItems:"center"},children:"FED礦場"})]})]})]}),(0,o.jsx)("div",{style:{height:"200px"}})]})}},26504:function(t,e,n){"use strict";n.d(e,{FZ:function(){return a},S8:function(){return o},Tq:function(){return l},Ul:function(){return d},Yw:function(){return u},dN:function(){return f},gk:function(){return h},he:function(){return p},qV:function(){return c},tQ:function(){return g}});var r=n(10528),i=n(6391),s=n.n(i);function a(t){return{hour:Math.floor(t/3600),minute:Math.floor(t%3600/60),seconds:Math.floor(t%60)}}function o(t){return Math.floor((new Date().getTime()/1e3-t)/60)}function u(t,e){var n=new Date().getTime()/1e3;return(n>=e&&(n=e),t>=e)?0:Math.floor((n-t)/60)}function c(t){var e=t-new Date().getTime()/1e3;return console.log(Math.floor(e/60)+1,"getCooldownDay"),Math.floor(e/60)+1}function l(t){return new Date().getTime()/1e3>=t}function d(t){var e=new Date(1e3*t);return e.getFullYear()+"-"+(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"-"+(10>e.getDate()?"0"+e.getDate()+" ":e.getDate()+" ")+(10>e.getHours()?"0"+e.getHours()+":":e.getHours()+":")+(10>e.getMinutes()?"0"+e.getMinutes()+":":e.getMinutes()+":")+(10>e.getSeconds()?"0"+e.getSeconds():e.getSeconds())}function f(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:18;return t instanceof s()?t.div(Math.pow(10,n)).toFixed(e):t instanceof r.O$?new(s())(t.toString()).div(Math.pow(10,n)).toFixed(e):"--"}function h(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18;return new(s())(t).multipliedBy(Math.pow(10,e)).toString()}function g(t){return new(s())(t).lte(0)}function p(t){var e=new Date(t).getTime(),n=Date.now();return console.log(e,n),n>=e}},56359:function(t,e,n){"use strict";n.d(e,{I:function(){return r}});var r=function(){return Math.floor(Date.now()/1e3)}},15602:function(t,e,n){"use strict";var r,i;n.d(e,{W:function(){return r}}),(i=r||(r={})).ENABLED="enabled",i.DISABLED="disabled",i.IS_ENABLING="is_enabling"},48858:function(t,e,n){"use strict";n.d(e,{Z:function(){return c}});var r=n(87394),i=n(56359),s=function(t){var e,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;e=new Date().getTime()+r;var i=function(){e+=r,n=setTimeout(i,e-new Date().getTime()),null==t||t()};return n=setTimeout(i,e-new Date().getTime()),{cancel:function(){return clearTimeout(n)}}},a=n(2784),o=n(92177),u=function(t){var e=(0,i.I)();return Number.isFinite(t)&&t>e?t-e:0},c=function(t){var e=(0,a.useRef)(null),n=(0,r.Z)((0,a.useState)(function(){return u(t)}),2),i=n[0],c=n[1],l=(0,r.Z)((0,a.useState)(!1),2),d=l[0],f=l[1],h=(0,o.yr)(),g=(0,a.useCallback)(function(){return f(!0)},[f]),p=(0,a.useCallback)(function(){return f(!1)},[f]);return(0,a.useEffect)(function(){var t;if(!d){var n=s(function(){c(function(t){var n;return t?t-1:(null===(n=e.current)||void 0===n||n.call(e),t)})}).cancel;t=n,e.current=n}return function(){null==t||t()}},[d,t,c]),(0,a.useEffect)(function(){h?(c(u(t)),p()):g()},[g,p,t,c,h]),{secondsRemaining:i,pause:g,unpause:p}}},99893:function(){}},function(t){t.O(0,[9774,2888,179],function(){return t(t.s=82136)}),_N_E=t.O()}]);